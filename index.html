<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Fresh Appalachian produce, artisan goods, and community connections at Smoky Mountain Farmers Market in East Tennessee. Open Saturdays 8am-2pm.">
    <meta name="theme-color" content="#2d5016">
    <title>Smoky Mountain Farmers Market | East Tennessee's Freshest</title>
    
    <!-- Preload critical resources for performance -->
    <link rel="preload" as="image" href="https://images.unsplash.com/photo-1488459716781-31db52582fe9?w=1600&q=80" />
    
    <!-- Font Awesome Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    
    <style>
        /* ===== CSS RESET & BASE ===== */
        *, *::before, *::after {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        :root {
            /* Color Palette */
            --color-primary: #2d5016;
            --color-primary-light: #4a7c2a;
            --color-secondary: #f4a523;
            --color-accent: #d97706;
            --color-bg: #fefefe;
            --color-surface: #f8f9fa;
            --color-text: #1a1a1a;
            --color-text-light: #4a4a4a;
            --color-border: #e0e0e0;
            
            /* Typography */
            --font-base: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            --font-heading: Georgia, "Times New Roman", serif;
            
            /* Spacing */
            --spacing-xs: 0.5rem;
            --spacing-sm: 1rem;
            --spacing-md: 1.5rem;
            --spacing-lg: 2rem;
            --spacing-xl: 3rem;
            --spacing-2xl: 4rem;
            
            /* Layout */
            --max-width: 1200px;
            --border-radius: 8px;
            --transition-speed: 0.3s;
        }

        /* Respect user motion preferences */
        @media (prefers-reduced-motion: reduce) {
            *, *::before, *::after {
                animation-duration: 0.01ms !important;
                animation-iteration-count: 1 !important;
                transition-duration: 0.01ms !important;
                scroll-behavior: auto !important;
            }
        }

        html {
            scroll-behavior: smooth;
            font-size: 16px;
        }

        body {
            font-family: var(--font-base);
            line-height: 1.6;
            color: var(--color-text);
            background-color: var(--color-bg);
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        /* ===== TYPOGRAPHY ===== */
        h1, h2, h3, h4, h5, h6 {
            font-family: var(--font-heading);
            line-height: 1.2;
            color: var(--color-primary);
            margin-bottom: var(--spacing-sm);
        }

        h1 { font-size: 2rem; }
        h2 { font-size: 1.75rem; }
        h3 { font-size: 1.5rem; }

        p {
            margin-bottom: var(--spacing-sm);
        }

        a {
            color: var(--color-primary);
            text-decoration: none;
            transition: color var(--transition-speed);
        }

        a:hover, a:focus {
            color: var(--color-primary-light);
            text-decoration: underline;
        }

        a:focus {
            outline: 2px solid var(--color-secondary);
            outline-offset: 2px;
        }

        /* ===== SKIP LINK (A11y) ===== */
        .skip-link {
            position: absolute;
            top: -40px;
            left: 0;
            background: var(--color-primary);
            color: white;
            padding: var(--spacing-xs) var(--spacing-sm);
            z-index: 100;
            border-radius: 0 0 var(--border-radius) 0;
        }

        .skip-link:focus {
            top: 0;
            outline: 2px solid var(--color-secondary);
        }

        /* ===== HEADER ===== */
        .header {
            background: linear-gradient(135deg, var(--color-primary) 0%, var(--color-primary-light) 100%);
            color: white;
            padding: var(--spacing-sm);
            position: sticky;
            top: 0;
            z-index: 100;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }

        .header-content {
            max-width: var(--max-width);
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
            gap: var(--spacing-sm);
        }

        .logo {
            font-family: var(--font-heading);
            font-size: 1.25rem;
            font-weight: bold;
            color: white;
            display: flex;
            align-items: center;
            gap: var(--spacing-xs);
            z-index: 103;
            position: relative;
        }

        .logo i {
            font-size: 1.5rem;
        }

        .logo:hover, .logo:focus {
            color: var(--color-secondary);
            text-decoration: none;
        }

        /* Mobile Menu Toggle */
        .menu-toggle {
            display: none;
            background: none;
            border: none;
            color: white;
            font-size: 1.5rem;
            cursor: pointer;
            padding: var(--spacing-xs);
            z-index: 103;
            position: relative;
            transition: transform var(--transition-speed);
        }

        .menu-toggle:hover,
        .menu-toggle:focus {
            color: var(--color-secondary);
            outline: 2px solid var(--color-secondary);
            outline-offset: 2px;
            border-radius: 4px;
        }

        .menu-toggle.active {
            transform: rotate(90deg);
        }

        /* Navigation */
        .nav {
            display: flex;
            gap: var(--spacing-sm);
            align-items: center;
        }

        .nav a {
            color: white;
            padding: var(--spacing-xs) var(--spacing-sm);
            border-radius: var(--border-radius);
            transition: background-color var(--transition-speed);
            display: flex;
            align-items: center;
            gap: 0.5rem;
            white-space: nowrap;
        }

        .nav a i {
            font-size: 1rem;
        }

        .nav a:hover, .nav a:focus {
            background-color: rgba(255, 255, 255, 0.2);
            text-decoration: none;
            color: white;
        }

        /* Mobile Navigation Styles */
        @media (max-width: 768px) {
            .menu-toggle {
                display: block;
            }

            .nav {
                position: fixed;
                top: 60px; /* Start below the header */
                right: -100%;
                width: 80%;
                max-width: 300px;
                height: calc(100vh - 60px); /* Full height minus header */
                background: linear-gradient(135deg, var(--color-primary) 0%, var(--color-primary-light) 100%);
                flex-direction: column;
                padding: var(--spacing-xl) var(--spacing-md);
                box-shadow: -4px 0 20px rgba(0, 0, 0, 0.3);
                transition: right 0.3s ease-in-out;
                overflow-y: auto;
                gap: var(--spacing-sm);
                z-index: 102;
            }

            .nav.active {
                right: 0;
            }

            .nav a {
                width: 100%;
                padding: var(--spacing-md) var(--spacing-sm);
                font-size: 1.1rem;
                justify-content: flex-start;
                border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            }

            .nav a:last-child {
                border-bottom: none;
            }

            .nav a i {
                font-size: 1.25rem;
                width: 30px;
            }

            /* Mobile Menu Overlay */
            .nav-overlay {
                position: fixed;
                top: 60px; /* Start below header */
                left: 0;
                width: 100%;
                height: calc(100vh - 60px);
                background: rgba(0, 0, 0, 0.7);
                opacity: 0;
                visibility: hidden;
                transition: opacity 0.3s ease, visibility 0.3s ease;
                z-index: 101;
                backdrop-filter: blur(3px);
                -webkit-backdrop-filter: blur(3px);
            }

            .nav-overlay.active {
                opacity: 1;
                visibility: visible;
            }
        }

        @media (max-width: 480px) {
            .logo span:last-child {
                font-size: 1rem;
            }
            
            .nav {
                width: 85%;
            }
        }

        /* ===== HERO SECTION ===== */
        .hero {
            background: linear-gradient(rgba(45, 80, 22, 0.65), rgba(45, 80, 22, 0.75)),
                        url('https://images.unsplash.com/photo-1488459716781-31db52582fe9?w=1600&q=80') center/cover;
            color: white;
            text-align: center;
            padding: var(--spacing-2xl) var(--spacing-sm);
            min-height: 60vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            background-attachment: fixed;
        }
        
        @media (max-width: 768px) {
            .hero {
                background-attachment: scroll; /* Better performance on mobile */
            }
        }

        .hero h1 {
            color: white;
            font-size: clamp(2rem, 5vw, 3.5rem);
            margin-bottom: var(--spacing-md);
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
        }

        .hero-tagline {
            font-size: clamp(1.1rem, 2.5vw, 1.5rem);
            margin-bottom: var(--spacing-lg);
            max-width: 600px;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.3);
        }

        .hero-cta {
            display: flex;
            gap: var(--spacing-sm);
            flex-wrap: wrap;
            justify-content: center;
        }

        .btn {
            display: inline-block;
            padding: var(--spacing-sm) var(--spacing-lg);
            border-radius: var(--border-radius);
            font-weight: 600;
            text-align: center;
            cursor: pointer;
            border: 2px solid transparent;
            transition: all var(--transition-speed);
            text-decoration: none;
        }

        .btn-primary {
            background-color: var(--color-secondary);
            color: var(--color-primary);
        }

        .btn-primary:hover, .btn-primary:focus {
            background-color: var(--color-accent);
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
            text-decoration: none;
        }

        .btn-secondary {
            background-color: transparent;
            color: white;
            border-color: white;
        }

        .btn-secondary:hover, .btn-secondary:focus {
            background-color: white;
            color: var(--color-primary);
            text-decoration: none;
        }

        /* ===== MAIN CONTENT ===== */
        .container {
            max-width: var(--max-width);
            margin: 0 auto;
            padding: 0 var(--spacing-sm);
        }

        .section {
            padding: var(--spacing-2xl) 0;
            opacity: 0;
            transform: translateY(30px);
        }

        /* Reveal animation when scrolling */
        @supports (animation-timeline: scroll()) {
            @media (prefers-reduced-motion: no-preference) {
                .section {
                    animation: reveal linear forwards;
                    animation-timeline: view();
                    animation-range: entry 0% cover 30%;
                }

                @keyframes reveal {
                    to {
                        opacity: 1;
                        transform: translateY(0);
                    }
                }
            }
        }

        /* Fallback for browsers without scroll-driven animations */
        .section.visible {
            opacity: 1;
            transform: translateY(0);
            transition: opacity 0.6s ease-out, transform 0.6s ease-out;
        }

        .section:nth-child(even) {
            background-color: var(--color-surface);
        }

        .section-header {
            text-align: center;
            margin-bottom: var(--spacing-xl);
        }

        .section-title {
            font-size: clamp(1.75rem, 4vw, 2.5rem);
            margin-bottom: var(--spacing-sm);
        }

        .section-subtitle {
            color: var(--color-text-light);
            font-size: 1.1rem;
        }

        /* ===== ABOUT SECTION ===== */
        .about-content {
            display: grid;
            gap: var(--spacing-lg);
            align-items: center;
        }

        .about-text {
            font-size: 1.1rem;
            line-height: 1.8;
        }

        .features-grid {
            display: grid;
            gap: var(--spacing-md);
            margin-top: var(--spacing-lg);
        }

        .feature-card {
            background: white;
            padding: var(--spacing-md);
            border-radius: var(--border-radius);
            border: 1px solid var(--color-border);
            transition: transform var(--transition-speed), box-shadow var(--transition-speed);
        }

        .feature-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.1);
        }

        .feature-icon {
            font-size: 2rem;
            margin-bottom: var(--spacing-sm);
            color: var(--color-secondary);
        }

        .feature-icon i {
            font-size: 2.5rem;
        }

        .feature-card h3 {
            color: var(--color-primary);
            margin-bottom: var(--spacing-xs);
        }

        /* ===== VENDORS SECTION ===== */
        .vendors-grid {
            display: grid;
            gap: var(--spacing-md);
        }

        .vendor-card {
            background: white;
            padding: var(--spacing-md);
            border-radius: var(--border-radius);
            border: 1px solid var(--color-border);
            display: flex;
            gap: var(--spacing-md);
            transition: transform var(--transition-speed), box-shadow var(--transition-speed);
        }

        .vendor-card:hover {
            transform: translateX(4px);
            box-shadow: 0 4px 16px rgba(0, 0, 0, 0.1);
        }

        .vendor-icon {
            font-size: 2.5rem;
            flex-shrink: 0;
            color: var(--color-secondary);
        }

        .vendor-icon i {
            font-size: 2.5rem;
        }

        .vendor-info h3 {
            font-size: 1.25rem;
            margin-bottom: var(--spacing-xs);
        }

        .vendor-description {
            color: var(--color-text-light);
        }

        /* ===== SCHEDULE SECTION ===== */
        .schedule-card {
            background: white;
            padding: var(--spacing-lg);
            border-radius: var(--border-radius);
            border: 2px solid var(--color-secondary);
            margin: 0 auto;
            max-width: 600px;
        }

        .schedule-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: var(--spacing-sm) 0;
            border-bottom: 1px solid var(--color-border);
        }

        .schedule-item:last-child {
            border-bottom: none;
        }

        .schedule-day {
            font-weight: 600;
            color: var(--color-primary);
        }

        .schedule-time {
            color: var(--color-text-light);
        }

        .highlight-box {
            background: var(--color-surface);
            padding: var(--spacing-md);
            border-radius: var(--border-radius);
            margin-top: var(--spacing-md);
            border-left: 4px solid var(--color-secondary);
        }

        /* ===== LOCATION SECTION ===== */
        .location-content {
            display: grid;
            gap: var(--spacing-lg);
        }

        .map-placeholder {
            background: var(--color-surface);
            padding: var(--spacing-2xl);
            border-radius: var(--border-radius);
            text-align: center;
            border: 2px dashed var(--color-border);
            min-height: 300px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }

        .map-placeholder svg {
            width: 100px;
            height: 100px;
            margin-bottom: var(--spacing-md);
            opacity: 0.5;
        }

        .contact-info {
            background: white;
            padding: var(--spacing-lg);
            border-radius: var(--border-radius);
            border: 1px solid var(--color-border);
        }

        .contact-item {
            display: flex;
            align-items: start;
            gap: var(--spacing-sm);
            margin-bottom: var(--spacing-md);
        }

        .contact-item:last-child {
            margin-bottom: 0;
        }

        .contact-icon {
            font-size: 1.5rem;
            color: var(--color-secondary);
            flex-shrink: 0;
        }

        .contact-icon i {
            font-size: 1.5rem;
        }

        /* ===== PHOTO GRID ===== */
        .photo-grid {
            display: grid;
            gap: var(--spacing-md);
            grid-template-columns: 1fr;
        }

        .photo-card {
            border-radius: var(--border-radius);
            overflow: hidden;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            transition: transform var(--transition-speed), box-shadow var(--transition-speed);
            background: var(--color-surface);
            aspect-ratio: 4 / 3;
        }

        .photo-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.15);
        }

        .photo-card img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            display: block;
        }
        
        /* Fade in effect for lazy loaded images */
        .photo-card img[loading="lazy"] {
            opacity: 0;
            transition: opacity 0.3s ease-in;
        }
        
        .photo-card img[loading="lazy"].loaded,
        .photo-card img[loading="lazy"]:not([loading]) {
            opacity: 1;
        }
        
        /* Aspect ratio boxes prevent layout shift */
        .photo-card::before {
            content: '';
            display: block;
            background: var(--color-surface);
        }

        @media (min-width: 640px) {
            .photo-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        @media (min-width: 1024px) {
            .photo-grid {
                grid-template-columns: repeat(3, 1fr);
            }
        }

        /* ===== VIDEO SECTION ===== */
        .video-section {
            background-color: var(--color-bg);
        }

        .video-container {
            max-width: 900px;
            margin: 0 auto;
        }

        .video-container video {
            width: 100%;
            border-radius: var(--border-radius);
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.15);
            display: block;
            background: #000;
        }

        .video-credit {
            text-align: center;
            margin-top: var(--spacing-sm);
            color: var(--color-text-light);
        }

        .video-credit a {
            color: var(--color-primary);
        }

        /* ===== FOOTER ===== */
        .footer {
            background-color: var(--color-primary);
            color: white;
            padding: var(--spacing-2xl) var(--spacing-sm) var(--spacing-md);
        }

        .footer-content {
            max-width: var(--max-width);
            margin: 0 auto;
        }

        .footer-grid {
            display: grid;
            gap: var(--spacing-xl);
            margin-bottom: var(--spacing-xl);
            grid-template-columns: 1fr;
        }

        .footer-section h3 {
            color: white;
            font-size: 1.25rem;
            margin-bottom: var(--spacing-md);
            display: flex;
            align-items: center;
            gap: var(--spacing-xs);
        }

        .footer-section h3 i {
            color: var(--color-secondary);
        }

        .footer-section p {
            margin-bottom: var(--spacing-sm);
            line-height: 1.8;
            opacity: 0.9;
        }

        .footer-links {
            list-style: none;
            padding: 0;
            margin: 0;
        }

        .footer-links li {
            margin-bottom: var(--spacing-sm);
        }

        .footer-links a {
            color: white;
            opacity: 0.9;
            transition: opacity var(--transition-speed), padding-left var(--transition-speed);
            display: flex;
            align-items: center;
            gap: var(--spacing-xs);
        }

        .footer-links a:hover,
        .footer-links a:focus {
            opacity: 1;
            color: var(--color-secondary);
            text-decoration: none;
            padding-left: 4px;
        }

        .footer-links i {
            width: 20px;
            font-size: 0.9rem;
        }

        .footer-contact-item {
            display: flex;
            align-items: start;
            gap: var(--spacing-sm);
            margin-bottom: var(--spacing-md);
            opacity: 0.9;
        }

        .footer-contact-item i {
            color: var(--color-secondary);
            font-size: 1.25rem;
            width: 24px;
            flex-shrink: 0;
            margin-top: 2px;
        }

        .footer-contact-item a {
            color: white;
            opacity: 0.9;
        }

        .footer-contact-item a:hover {
            opacity: 1;
            color: var(--color-secondary);
        }

        .social-links {
            display: flex;
            gap: var(--spacing-md);
            margin-top: var(--spacing-md);
        }

        .social-link {
            color: white;
            font-size: 1.5rem;
            padding: var(--spacing-xs);
            transition: color var(--transition-speed), transform var(--transition-speed);
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 44px;
            height: 44px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.1);
        }

        .social-link:hover, .social-link:focus {
            color: var(--color-secondary);
            text-decoration: none;
            transform: translateY(-3px);
            background: rgba(255, 255, 255, 0.2);
        }

        .footer-newsletter {
            background: rgba(255, 255, 255, 0.1);
            padding: var(--spacing-md);
            border-radius: var(--border-radius);
            margin-top: var(--spacing-md);
        }

        .footer-newsletter input {
            width: 100%;
            padding: var(--spacing-sm);
            border: 2px solid rgba(255, 255, 255, 0.3);
            border-radius: var(--border-radius);
            background: rgba(255, 255, 255, 0.1);
            color: white;
            margin-bottom: var(--spacing-sm);
            font-size: 1rem;
        }

        .footer-newsletter input::placeholder {
            color: rgba(255, 255, 255, 0.6);
        }

        .footer-newsletter input:focus {
            outline: none;
            border-color: var(--color-secondary);
            background: rgba(255, 255, 255, 0.15);
        }

        .footer-newsletter button {
            width: 100%;
            padding: var(--spacing-sm);
            background: var(--color-secondary);
            color: var(--color-primary);
            border: none;
            border-radius: var(--border-radius);
            font-weight: 600;
            cursor: pointer;
            transition: background-color var(--transition-speed), transform var(--transition-speed);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: var(--spacing-xs);
        }

        .footer-newsletter button:hover,
        .footer-newsletter button:focus {
            background: var(--color-accent);
            transform: translateY(-2px);
        }

        .footer-bottom {
            border-top: 1px solid rgba(255, 255, 255, 0.2);
            padding-top: var(--spacing-md);
            text-align: center;
        }

        .footer-bottom p {
            margin-bottom: var(--spacing-xs);
            opacity: 0.8;
        }

        .footer-credits {
            font-size: 0.75rem;
            opacity: 0.6;
            margin-top: var(--spacing-sm);
        }

        .footer-credits a {
            color: inherit;
            text-decoration: underline;
        }

        @media (min-width: 640px) {
            .footer-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        @media (min-width: 1024px) {
            .footer-grid {
                grid-template-columns: 2fr 1fr 1fr 1.5fr;
            }
        }

        /* ===== RESPONSIVE BREAKPOINTS ===== */
        @media (min-width: 768px) {
            h1 { font-size: 2.5rem; }
            h2 { font-size: 2rem; }
            
            .features-grid {
                grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            }

            .vendors-grid {
                grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            }

            .about-content {
                grid-template-columns: 1fr 1fr;
            }

            .location-content {
                grid-template-columns: 2fr 1fr;
            }
        }

        @media (min-width: 1024px) {
            .section {
                padding: var(--spacing-2xl) 0;
            }
        }

        /* ===== VIEW TRANSITIONS API ===== */
        @supports (view-transition-name: none) {
            @media (prefers-reduced-motion: no-preference) {
                ::view-transition-old(root),
                ::view-transition-new(root) {
                    animation-duration: 0.3s;
                }
            }
        }

        /* ===== PRINT STYLES ===== */
        @media print {
            .header, .footer, .nav, .btn {
                display: none;
            }
            
            .section {
                page-break-inside: avoid;
            }
        }

        /* ===== HIGH CONTRAST MODE ===== */
        @media (prefers-contrast: high) {
            :root {
                --color-primary: #1a3a0f;
                --color-text: #000000;
            }
            
            .btn {
                border-width: 3px;
            }
        }

        /* ===== SCREEN READER ONLY ===== */
        .sr-only {
            position: absolute;
            left: -10000px;
            width: 1px;
            height: 1px;
            overflow: hidden;
        }
    </style>
</head>
<body>
    <!-- Skip to main content link for screen readers -->
    <a href="#main-content" class="skip-link">Skip to main content</a>

    <!-- Header -->
    <header class="header" role="banner">
        <div class="header-content">
            <a href="#" class="logo" aria-label="Smoky Mountain Farmers Market Home">
                <i class="fa-solid fa-mountain-sun" aria-hidden="true"></i>
                <span>Smoky Mountain Farmers Market</span>
            </a>
            
            <button class="menu-toggle" aria-label="Toggle navigation menu" aria-expanded="false" aria-controls="main-nav">
                <i class="fa-solid fa-bars"></i>
            </button>
            
            <nav id="main-nav" class="nav" role="navigation" aria-label="Main navigation">
                <a href="#about"><i class="fa-solid fa-circle-info"></i> About</a>
                <a href="#vendors"><i class="fa-solid fa-users"></i> Vendors</a>
                <a href="#schedule"><i class="fa-regular fa-calendar"></i> Schedule</a>
                <a href="#location"><i class="fa-solid fa-location-dot"></i> Location</a>
            </nav>
        </div>
        <div class="nav-overlay" aria-hidden="true"></div>
    </header>

    <!-- Hero Section -->
    <section class="hero" role="banner">
        <h1>Appalachian Fresh. Tennessee Proud.</h1>
        <p class="hero-tagline">
            Discover the bounty of East Tennessee's rich farmland with fresh mountain produce, heritage crafts, and true Southern hospitality every Saturday.
        </p>
        <div class="hero-cta">
            <a href="#schedule" class="btn btn-primary">Visit Us This Saturday</a>
            <a href="#vendors" class="btn btn-secondary">Meet Our Farmers</a>
        </div>
    </section>

    <!-- Main Content -->
    <main id="main-content">
        <!-- About Section -->
        <section id="about" class="section">
            <div class="container">
                <div class="section-header">
                    <h2 class="section-title">About Our Market</h2>
                    <p class="section-subtitle">Celebrating East Tennessee's agricultural heritage since 2010</p>
                </div>
                
                <div class="about-content">
                    <div>
                        <p class="about-text">
                            Welcome to Smoky Mountain Farmers Market, where the rich agricultural traditions of East Tennessee come alive every weekend. Nestled in the foothills of the Great Smoky Mountains, our region has been blessed with fertile valleys, clean mountain streams, and generations of farming families who know this land intimately.
                        </p>
                        <p class="about-text">
                            Every Saturday morning, local farmers and artisans gather to share the very best of what our Tennessee soil producesâ€”from sweet corn and heirloom tomatoes to crisp mountain apples and heritage grains. You'll taste the difference that Appalachian sunshine, rich soil, and dedicated hands make in every bite.
                        </p>
                    </div>
                    
                    <div class="features-grid">
                        <div class="feature-card">
                            <div class="feature-icon" aria-hidden="true"><i class="fa-solid fa-mountain"></i></div>
                            <h3>Mountain Fresh</h3>
                            <p>Grown in the rich valleys and hillsides of East Tennessee, where elevation and climate create exceptional flavor.</p>
                        </div>
                        
                        <div class="feature-card">
                            <div class="feature-icon" aria-hidden="true"><i class="fa-solid fa-seedling"></i></div>
                            <h3>Heritage Farming</h3>
                            <p>Many of our vendors farm land that's been in their families for generations, preserving Appalachian agricultural traditions.</p>
                        </div>
                        
                        <div class="feature-card">
                            <div class="feature-icon" aria-hidden="true"><i class="fa-solid fa-handshake"></i></div>
                            <h3>Tennessee Community</h3>
                            <p>Where neighbors greet each other by name and Southern hospitality is served alongside every peach and pepper.</p>
                        </div>
                        
                        <div class="feature-card">
                            <div class="feature-icon" aria-hidden="true"><i class="fa-solid fa-music"></i></div>
                            <h3>Music & Culture</h3>
                            <p>Live bluegrass, traditional mountain music, and family-friendly activities celebrate our regional heritage.</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Photo Showcase Section -->
        <section class="section" style="padding: var(--spacing-xl) 0;">
            <div class="container">
                <div class="section-header">
                    <h2 class="section-title">Market Moments</h2>
                    <p class="section-subtitle">A glimpse into our vibrant Saturday mornings</p>
                </div>

                <div class="photo-grid">
                    <div class="photo-card">
                        <img 
                            src="https://images.unsplash.com/photo-1464226184884-fa280b87c399?w=800&q=80" 
                            srcset="https://images.unsplash.com/photo-1464226184884-fa280b87c399?w=400&q=80 400w,
                                    https://images.unsplash.com/photo-1464226184884-fa280b87c399?w=800&q=80 800w,
                                    https://images.unsplash.com/photo-1464226184884-fa280b87c399?w=1200&q=80 1200w"
                            sizes="(max-width: 640px) 100vw, (max-width: 1024px) 50vw, 33vw"
                            alt="Fresh vegetables at farmers market"
                            loading="lazy"
                        >
                    </div>
                    <div class="photo-card">
                        <img 
                            src="https://images.unsplash.com/photo-1607623814075-e51df1bdc82f?w=800&q=80" 
                            srcset="https://images.unsplash.com/photo-1607623814075-e51df1bdc82f?w=400&q=80 400w,
                                    https://images.unsplash.com/photo-1607623814075-e51df1bdc82f?w=800&q=80 800w,
                                    https://images.unsplash.com/photo-1607623814075-e51df1bdc82f?w=1200&q=80 1200w"
                            sizes="(max-width: 640px) 100vw, (max-width: 1024px) 50vw, 33vw"
                            alt="Colorful produce display"
                            loading="lazy"
                        >
                    </div>
                    <div class="photo-card">
                        <img 
                            src="https://images.unsplash.com/photo-1542838132-92c53300491e?w=800&q=80" 
                            srcset="https://images.unsplash.com/photo-1542838132-92c53300491e?w=400&q=80 400w,
                                    https://images.unsplash.com/photo-1542838132-92c53300491e?w=800&q=80 800w,
                                    https://images.unsplash.com/photo-1542838132-92c53300491e?w=1200&q=80 1200w"
                            sizes="(max-width: 640px) 100vw, (max-width: 1024px) 50vw, 33vw"
                            alt="Local honey and preserves"
                            loading="lazy"
                        >
                    </div>
                    <div class="photo-card">
                        <img 
                            src="https://images.unsplash.com/photo-1559854404-25c8e6fd2b69?w=800&q=80" 
                            srcset="https://images.unsplash.com/photo-1559854404-25c8e6fd2b69?w=400&q=80 400w,
                                    https://images.unsplash.com/photo-1559854404-25c8e6fd2b69?w=800&q=80 800w,
                                    https://images.unsplash.com/photo-1559854404-25c8e6fd2b69?w=1200&q=80 1200w"
                            sizes="(max-width: 640px) 100vw, (max-width: 1024px) 50vw, 33vw"
                            alt="Fresh baked goods"
                            loading="lazy"
                        >
                    </div>
                    <div class="photo-card">
                        <img 
                            src="https://images.unsplash.com/photo-1610348725531-843dff563e2c?w=800&q=80" 
                            srcset="https://images.unsplash.com/photo-1610348725531-843dff563e2c?w=400&q=80 400w,
                                    https://images.unsplash.com/photo-1610348725531-843dff563e2c?w=800&q=80 800w,
                                    https://images.unsplash.com/photo-1610348725531-843dff563e2c?w=1200&q=80 1200w"
                            sizes="(max-width: 640px) 100vw, (max-width: 1024px) 50vw, 33vw"
                            alt="Farmers market flowers"
                            loading="lazy"
                        >
                    </div>
                    <div class="photo-card">
                        <img 
                            src="https://images.unsplash.com/photo-1567306226416-28f0efdc88ce?w=800&q=80" 
                            srcset="https://images.unsplash.com/photo-1567306226416-28f0efdc88ce?w=400&q=80 400w,
                                    https://images.unsplash.com/photo-1567306226416-28f0efdc88ce?w=800&q=80 800w,
                                    https://images.unsplash.com/photo-1567306226416-28f0efdc88ce?w=1200&q=80 1200w"
                            sizes="(max-width: 640px) 100vw, (max-width: 1024px) 50vw, 33vw"
                            alt="Fresh tomatoes and vegetables"
                            loading="lazy"
                        >
                    </div>
                </div>
            </div>
        </section>

        <!-- Vendors Section -->
        <section id="vendors" class="section">
            <div class="container">
                <div class="section-header">
                    <h2 class="section-title">Meet Our Farmers</h2>
                    <p class="section-subtitle">Proud East Tennessee agricultural families</p>
                </div>

                <div class="vendors-grid">
                    <article class="vendor-card">
                        <div class="vendor-icon" aria-hidden="true"><i class="fa-solid fa-apple-whole"></i></div>
                        <div class="vendor-info">
                            <h3>Mountain View Orchards</h3>
                            <p class="vendor-description">
                                Tennessee apples, peaches, and berries from our hillside orchards. Try our famous Smokehouse apple butter and cider!
                            </p>
                        </div>
                    </article>

                    <article class="vendor-card">
                        <div class="vendor-icon" aria-hidden="true"><i class="fa-solid fa-carrot"></i></div>
                        <div class="vendor-info">
                            <h3>Cherokee Valley Farm</h3>
                            <p class="vendor-description">
                                Sweet corn, heirloom tomatoes, and Tennessee squash. Fourth-generation family farm practicing sustainable agriculture.
                            </p>
                        </div>
                    </article>

                    <article class="vendor-card">
                        <div class="vendor-icon" aria-hidden="true"><i class="fa-solid fa-bread-slice"></i></div>
                        <div class="vendor-info">
                            <h3>Appalachian Hearth Bakery</h3>
                            <p class="vendor-description">
                                Sourdough loaves, biscuits, and pies made with locally-milled Tennessee grains. Our buttermilk biscuits are legendary!
                            </p>
                        </div>
                    </article>

                    <article class="vendor-card">
                        <div class="vendor-icon" aria-hidden="true"><i class="fa-solid fa-egg"></i></div>
                        <div class="vendor-info">
                            <h3>Holston River Poultry</h3>
                            <p class="vendor-description">
                                Free-range eggs from hens raised on Tennessee pastureland. Plus seasonal chicken and farm-fresh turkey.
                            </p>
                        </div>
                    </article>

                    <article class="vendor-card">
                        <div class="vendor-icon" aria-hidden="true"><i class="fa-solid fa-jar"></i></div>
                        <div class="vendor-info">
                            <h3>Smoky Mountain Honey Co.</h3>
                            <p class="vendor-description">
                                Raw wildflower and sourwood honey from Appalachian hives. Beeswax candles and honey comb straight from the mountains.
                            </p>
                        </div>
                    </article>

                    <article class="vendor-card">
                        <div class="vendor-icon" aria-hidden="true"><i class="fa-solid fa-cheese"></i></div>
                        <div class="vendor-info">
                            <h3>Clingman's Creamery</h3>
                            <p class="vendor-description">
                                Artisan cheeses from grass-fed Tennessee cows. Award-winning aged cheddar and fresh goat cheese from our dairy.
                            </p>
                        </div>
                    </article>

                    <article class="vendor-card">
                        <div class="vendor-icon" aria-hidden="true"><i class="fa-solid fa-wheat-awn"></i></div>
                        <div class="vendor-info">
                            <h3>Heritage Grains & Beans</h3>
                            <p class="vendor-description">
                                Tennessee heritage beans, stone-ground cornmeal, and grits. Preserving Appalachian seed varieties for future generations.
                            </p>
                        </div>
                    </article>

                    <article class="vendor-card">
                        <div class="vendor-icon" aria-hidden="true"><i class="fa-solid fa-seedling"></i></div>
                        <div class="vendor-info">
                            <h3>Wildflower Fields</h3>
                            <p class="vendor-description">
                                Cut flowers, native plants, and heirloom vegetable starts. Specializing in Tennessee native wildflowers and herbs.
                            </p>
                        </div>
                    </article>

                    <article class="vendor-card">
                        <div class="vendor-icon" aria-hidden="true"><i class="fa-solid fa-cow"></i></div>
                        <div class="vendor-info">
                            <h3>Appalachian Grass-Fed Beef</h3>
                            <p class="vendor-description">
                                Pasture-raised beef and pork from our Tennessee farm. Humanely raised, hormone-free, and delicious.
                            </p>
                        </div>
                    </article>
                </div>
            </div>
        </section>

        <!-- Video Section -->
        <section class="section video-section">
            <div class="container">
                <div class="section-header">
                    <h2 class="section-title">Experience the Market</h2>
                    <p class="section-subtitle">See the energy and community spirit every Saturday</p>
                </div>

                <div class="video-container">
                    <video 
                        controls 
                        preload="metadata"
                        poster="https://images.unsplash.com/photo-1488459716781-31db52582fe9?w=1200&q=80"
                        aria-label="Farmers market experience video"
                        playsinline
                        crossorigin="anonymous"
                    >
                        <source src="https://videos.pexels.com/video-files/3015486/3015486-uhd_2560_1440_24fps.mp4" type="video/mp4; codecs=avc1.4d002a" media="(min-width: 1920px)">
                        <source src="https://videos.pexels.com/video-files/3015486/3015486-hd_1920_1080_24fps.mp4" type="video/mp4; codecs=avc1.4d002a" media="(min-width: 1280px)">
                        <source src="https://videos.pexels.com/video-files/3015486/3015486-hd_1280_720_24fps.mp4" type="video/mp4; codecs=avc1.4d002a">
                        <p>Your browser doesn't support HTML5 video. <a href="https://www.pexels.com/video/customers-in-the-bazaar-3015486/">Watch the video on Pexels</a>.</p>
                    </video>
                    <p class="video-credit">
                        <small>Video by <a href="https://www.pexels.com" target="_blank" rel="noopener noreferrer">Pexels</a></small>
                    </p>
                </div>
            </div>
        </section>

        <!-- Schedule Section -->
        <section id="schedule" class="section">
            <div class="container">
                <div class="section-header">
                    <h2 class="section-title">Market Schedule</h2>
                    <p class="section-subtitle">Rain or shine, every Saturday morning</p>
                </div>

                <div class="schedule-card">
                    <div class="schedule-item">
                        <span class="schedule-day">Saturday</span>
                        <span class="schedule-time">8:00 AM - 2:00 PM</span>
                    </div>
                    <div class="schedule-item">
                        <span class="schedule-day">Season</span>
                        <span class="schedule-time">April through November</span>
                    </div>
                    <div class="schedule-item">
                        <span class="schedule-day">Special Events</span>
                        <span class="schedule-time">First Saturday of each month</span>
                    </div>

                    <div class="highlight-box">
                        <h3><i class="fa-solid fa-calendar-star" style="color: var(--color-secondary); margin-right: 0.5rem;"></i>Upcoming Tennessee Celebrations</h3>
                        <ul style="margin-left: var(--spacing-md); margin-top: var(--spacing-sm);">
                            <li><strong>June 7:</strong> Strawberry Festival - Live bluegrass, jam-making demos, shortcake</li>
                            <li><strong>July 5:</strong> Sweet Corn Jubilee - Cornbread contest, kids' shucking competition</li>
                            <li><strong>August 2:</strong> Tomato & Peach Day - Heirloom varieties, canning demonstrations</li>
                            <li><strong>September 6:</strong> Apple Harvest Festival - Cider pressing, mountain music</li>
                        </ul>
                    </div>
                </div>
            </div>
        </section>

        <!-- Location Section -->
        <section id="location" class="section">
            <div class="container">
                <div class="section-header">
                    <h2 class="section-title">Visit Us</h2>
                    <p class="section-subtitle">Easy to find in beautiful East Tennessee</p>
                </div>

                <div class="location-content">
                    <div class="map-placeholder">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
                            <path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"></path>
                            <circle cx="12" cy="10" r="3"></circle>
                        </svg>
                        <p><strong>Downtown Pavilion</strong></p>
                        <p>Main Street, LaFollette, TN 37766</p>
                        <p style="margin-top: var(--spacing-sm);">
                            <a href="https://maps.google.com/?q=LaFollette+TN+37766" target="_blank" rel="noopener noreferrer" class="btn btn-primary" style="display: inline-block;">
                                Open in Google Maps
                            </a>
                        </p>
                    </div>

                    <div class="contact-info">
                        <h3>Get in Touch</h3>
                        
                        <div class="contact-item">
                            <span class="contact-icon" aria-hidden="true"><i class="fa-solid fa-location-dot"></i></span>
                            <div>
                                <strong>Address</strong><br>
                                Downtown Pavilion<br>
                                Main Street<br>
                                LaFollette, TN 37766
                            </div>
                        </div>

                        <div class="contact-item">
                            <span class="contact-icon" aria-hidden="true"><i class="fa-solid fa-envelope"></i></span>
                            <div>
                                <strong>Email</strong><br>
                                <a href="mailto:hello@smokymountainfarmersmarket.org">hello@smokymountainfarmersmarket.org</a>
                            </div>
                        </div>

                        <div class="contact-item">
                            <span class="contact-icon" aria-hidden="true"><i class="fa-solid fa-phone"></i></span>
                            <div>
                                <strong>Phone</strong><br>
                                <a href="tel:+14235551234">(423) 555-1234</a>
                            </div>
                        </div>

                        <div class="contact-item">
                            <span class="contact-icon" aria-hidden="true"><i class="fa-solid fa-square-parking"></i></span>
                            <div>
                                <strong>Parking</strong><br>
                                Free parking available on Main Street and in the municipal lot behind the pavilion
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer class="footer" role="contentinfo">
        <div class="footer-content">
            <div class="footer-grid">
                <!-- About Section -->
                <div class="footer-section">
                    <h3><i class="fa-solid fa-mountain-sun"></i> About Us</h3>
                    <p>
                        Smoky Mountain Farmers Market brings together the finest farms and artisans from East Tennessee. Every Saturday, we celebrate our agricultural heritage and connect our community with fresh, locally-grown food.
                    </p>
                    <div class="social-links">
                        <a href="#" class="social-link" aria-label="Follow us on Facebook" target="_blank" rel="noopener noreferrer">
                            <i class="fa-brands fa-facebook-f"></i>
                        </a>
                        <a href="#" class="social-link" aria-label="Follow us on Instagram" target="_blank" rel="noopener noreferrer">
                            <i class="fa-brands fa-instagram"></i>
                        </a>
                        <a href="#" class="social-link" aria-label="Follow us on Twitter" target="_blank" rel="noopener noreferrer">
                            <i class="fa-brands fa-twitter"></i>
                        </a>
                        <a href="#" class="social-link" aria-label="Email us" target="_blank" rel="noopener noreferrer">
                            <i class="fa-solid fa-envelope"></i>
                        </a>
                    </div>
                </div>

                <!-- Quick Links -->
                <div class="footer-section">
                    <h3><i class="fa-solid fa-link"></i> Quick Links</h3>
                    <ul class="footer-links">
                        <li><a href="#about"><i class="fa-solid fa-chevron-right"></i> About the Market</a></li>
                        <li><a href="#vendors"><i class="fa-solid fa-chevron-right"></i> Our Vendors</a></li>
                        <li><a href="#schedule"><i class="fa-solid fa-chevron-right"></i> Market Schedule</a></li>
                        <li><a href="#location"><i class="fa-solid fa-chevron-right"></i> Visit Us</a></li>
                    </ul>
                </div>

                <!-- Resources -->
                <div class="footer-section">
                    <h3><i class="fa-solid fa-circle-info"></i> Resources</h3>
                    <ul class="footer-links">
                        <li><a href="#"><i class="fa-solid fa-chevron-right"></i> Become a Vendor</a></li>
                        <li><a href="#"><i class="fa-solid fa-chevron-right"></i> Volunteer</a></li>
                        <li><a href="#"><i class="fa-solid fa-chevron-right"></i> Recipes & Tips</a></li>
                        <li><a href="#"><i class="fa-solid fa-chevron-right"></i> Events Calendar</a></li>
                    </ul>
                </div>

                <!-- Contact & Newsletter -->
                <div class="footer-section">
                    <h3><i class="fa-solid fa-address-card"></i> Stay Connected</h3>
                    
                    <div class="footer-contact-item">
                        <i class="fa-solid fa-location-dot"></i>
                        <div>
                            <strong>Downtown Pavilion</strong><br>
                            Main Street, LaFollette, TN 37766
                        </div>
                    </div>

                    <div class="footer-contact-item">
                        <i class="fa-solid fa-phone"></i>
                        <div>
                            <a href="tel:+14235551234">(423) 555-1234</a>
                        </div>
                    </div>

                    <div class="footer-contact-item">
                        <i class="fa-solid fa-envelope"></i>
                        <div>
                            <a href="mailto:hello@smokymountainfarmersmarket.org">hello@smokymountainfarmersmarket.org</a>
                        </div>
                    </div>

                    <div class="footer-newsletter">
                        <p style="margin-bottom: var(--spacing-sm); font-weight: 600;"><i class="fa-solid fa-bell"></i> Get Market Updates</p>
                        <form aria-label="Newsletter signup">
                            <input 
                                type="email" 
                                placeholder="Your email address" 
                                required 
                                aria-label="Email address for newsletter"
                            >
                            <button type="submit">
                                <i class="fa-solid fa-paper-plane"></i> Subscribe
                            </button>
                        </form>
                    </div>
                </div>
            </div>

            <!-- Footer Bottom -->
            <div class="footer-bottom">
                <p>&copy; 2025 Smoky Mountain Farmers Market. All rights reserved.</p>
                <p style="margin-top: var(--spacing-xs); font-size: 0.9rem; opacity: 0.8;">
                    Celebrating East Tennessee agriculture, Appalachian heritage, and community connections.
                </p>
                <p class="footer-credits">
                    Photos courtesy of <a href="https://unsplash.com" target="_blank" rel="noopener noreferrer">Unsplash</a> | 
                    Video courtesy of <a href="https://pexels.com" target="_blank" rel="noopener noreferrer">Pexels</a>
                </p>
            </div>
        </div>
    </footer>

    <script>
        'use strict';

        // ===== VIEW TRANSITIONS API WITH FALLBACK =====
        function enhanceNavigation() {
            // Check if View Transitions API is supported and user doesn't prefer reduced motion
            const supportsViewTransitions = 'startViewTransition' in document;
            const prefersReducedMotion = window.matchMedia('(prefers-reduced-motion: reduce)').matches;

            if (supportsViewTransitions && !prefersReducedMotion) {
                // Enhanced navigation with View Transitions
                document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                    anchor.addEventListener('click', function(e) {
                        const href = this.getAttribute('href');
                        if (href === '#') return;
                        
                        e.preventDefault();
                        const target = document.querySelector(href);
                        
                        if (target && document.startViewTransition) {
                            document.startViewTransition(() => {
                                target.scrollIntoView({ behavior: 'smooth' });
                            });
                        } else if (target) {
                            target.scrollIntoView({ behavior: 'smooth' });
                        }
                    });
                });
            }
        }

        // ===== INTERSECTION OBSERVER FOR SCROLL REVEALS (FALLBACK) =====
        function setupScrollReveal() {
            // Only use Intersection Observer if scroll-driven animations aren't supported
            const supportsScrollTimeline = CSS.supports('animation-timeline', 'scroll()');
            
            if (!supportsScrollTimeline) {
                const sections = document.querySelectorAll('.section');
                
                const observerOptions = {
                    threshold: 0.1,
                    rootMargin: '0px 0px -100px 0px'
                };

                const observer = new IntersectionObserver((entries) => {
                    entries.forEach(entry => {
                        if (entry.isIntersecting) {
                            entry.target.classList.add('visible');
                        }
                    });
                }, observerOptions);

                sections.forEach(section => observer.observe(section));
            }
        }

        // ===== HEADER SCROLL BEHAVIOR =====
        function setupHeaderScroll() {
            const header = document.querySelector('.header');
            let lastScroll = 0;
            const scrollThreshold = 100;

            window.addEventListener('scroll', () => {
                const currentScroll = window.pageYOffset;
                
                // Add shadow on scroll
                if (currentScroll > 10) {
                    header.style.boxShadow = '0 2px 10px rgba(0, 0, 0, 0.15)';
                } else {
                    header.style.boxShadow = '0 2px 10px rgba(0, 0, 0, 0.1)';
                }

                lastScroll = currentScroll;
            }, { passive: true });
        }

        // ===== MOBILE MENU TOGGLE =====
        function setupMobileMenu() {
            const menuToggle = document.querySelector('.menu-toggle');
            const nav = document.querySelector('.nav');
            const navOverlay = document.querySelector('.nav-overlay');
            const navLinks = document.querySelectorAll('.nav a');

            if (!menuToggle || !nav || !navOverlay) return;

            // Toggle menu
            menuToggle.addEventListener('click', () => {
                const isActive = nav.classList.contains('active');
                
                nav.classList.toggle('active');
                navOverlay.classList.toggle('active');
                menuToggle.classList.toggle('active');
                
                // Update ARIA attributes
                menuToggle.setAttribute('aria-expanded', !isActive);
                
                // Prevent body scroll when menu is open
                document.body.style.overflow = isActive ? '' : 'hidden';
            });

            // Close menu when clicking overlay
            navOverlay.addEventListener('click', () => {
                nav.classList.remove('active');
                navOverlay.classList.remove('active');
                menuToggle.classList.remove('active');
                menuToggle.setAttribute('aria-expanded', 'false');
                document.body.style.overflow = '';
            });

            // Close menu when clicking a nav link
            navLinks.forEach(link => {
                link.addEventListener('click', () => {
                    nav.classList.remove('active');
                    navOverlay.classList.remove('active');
                    menuToggle.classList.remove('active');
                    menuToggle.setAttribute('aria-expanded', 'false');
                    document.body.style.overflow = '';
                });
            });

            // Close menu on escape key
            document.addEventListener('keydown', (e) => {
                if (e.key === 'Escape' && nav.classList.contains('active')) {
                    nav.classList.remove('active');
                    navOverlay.classList.remove('active');
                    menuToggle.classList.remove('active');
                    menuToggle.setAttribute('aria-expanded', 'false');
                    document.body.style.overflow = '';
                    menuToggle.focus();
                }
            });
        }

        // ===== ACCESSIBILITY ENHANCEMENTS =====
        function setupAccessibility() {
            // Enhanced keyboard navigation
            document.querySelectorAll('a, button').forEach(element => {
                element.addEventListener('keydown', (e) => {
                    if (e.key === 'Enter' || e.key === ' ') {
                        if (element.tagName === 'A' && element.getAttribute('href')?.startsWith('#')) {
                            e.preventDefault();
                            element.click();
                        }
                    }
                });
            });

            // Announce dynamic content changes to screen readers
            const createAnnouncer = () => {
                const announcer = document.createElement('div');
                announcer.setAttribute('role', 'status');
                announcer.setAttribute('aria-live', 'polite');
                announcer.setAttribute('aria-atomic', 'true');
                announcer.className = 'sr-only';
                announcer.style.cssText = 'position:absolute;left:-10000px;width:1px;height:1px;overflow:hidden;';
                document.body.appendChild(announcer);
                return announcer;
            };

            window.announceToScreenReader = (message) => {
                const announcer = document.querySelector('[role="status"]') || createAnnouncer();
                announcer.textContent = message;
            };

            // Newsletter form handler
            const newsletterForm = document.querySelector('.footer-newsletter form');
            if (newsletterForm) {
                newsletterForm.addEventListener('submit', (e) => {
                    e.preventDefault();
                    const emailInput = newsletterForm.querySelector('input[type="email"]');
                    
                    if (emailInput && emailInput.value) {
                        // Simulate successful subscription (in real implementation, this would call an API)
                        const button = newsletterForm.querySelector('button');
                        const originalText = button.innerHTML;
                        
                        button.innerHTML = '<i class="fa-solid fa-check"></i> Subscribed!';
                        button.style.background = 'var(--color-primary-light)';
                        button.disabled = true;
                        
                        emailInput.value = '';
                        
                        // Announce to screen readers
                        if (window.announceToScreenReader) {
                            window.announceToScreenReader('Successfully subscribed to newsletter');
                        }
                        
                        // Reset button after 3 seconds
                        setTimeout(() => {
                            button.innerHTML = originalText;
                            button.style.background = '';
                            button.disabled = false;
                        }, 3000);
                    }
                });
            }
        }

        // ===== PERFORMANCE OPTIMIZATION =====
        function optimizePerformance() {
            // Lazy load images when they come into view
            if ('IntersectionObserver' in window) {
                const imageObserver = new IntersectionObserver((entries) => {
                    entries.forEach(entry => {
                        if (entry.isIntersecting) {
                            const img = entry.target;
                            if (img.dataset.src) {
                                img.src = img.dataset.src;
                                img.removeAttribute('data-src');
                                imageObserver.unobserve(img);
                            }
                        }
                    });
                });

                document.querySelectorAll('img[data-src]').forEach(img => imageObserver.observe(img));
                
                // Add loaded class when lazy images finish loading
                document.querySelectorAll('img[loading="lazy"]').forEach(img => {
                    if (img.complete) {
                        img.classList.add('loaded');
                    } else {
                        img.addEventListener('load', () => {
                            img.classList.add('loaded');
                        });
                    }
                });
            }

            // Debounce scroll events
            function debounce(func, wait) {
                let timeout;
                return function executedFunction(...args) {
                    const later = () => {
                        clearTimeout(timeout);
                        func(...args);
                    };
                    clearTimeout(timeout);
                    timeout = setTimeout(later, wait);
                };
            }

            // Apply debouncing to scroll handlers if needed
            window.debouncedScroll = debounce((callback) => callback(), 100);
        }

        // ===== INITIALIZE ALL FEATURES =====
        function init() {
            // Check if DOM is ready
            if (document.readyState === 'loading') {
                document.addEventListener('DOMContentLoaded', init);
                return;
            }

            try {
                enhanceNavigation();
                setupScrollReveal();
                setupHeaderScroll();
                setupMobileMenu();
                setupAccessibility();
                optimizePerformance();

                // Log initialization for debugging
                console.log('Smoky Mountain Farmers Market - Site initialized successfully');
            } catch (error) {
                console.error('Initialization error:', error);
            }
        }

        // Start initialization
        init();

        // ===== SERVICE WORKER REGISTRATION (Progressive Web App) =====
        // Uncomment to enable PWA features
        /*
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('/sw.js')
                    .then(reg => console.log('Service Worker registered'))
                    .catch(err => console.error('Service Worker registration failed:', err));
            });
        }
        */
    </script>
</body>
</html>
